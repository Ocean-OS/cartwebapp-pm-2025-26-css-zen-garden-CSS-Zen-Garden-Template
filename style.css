@import url('https://fonts.googleapis.com/css2?family=Geist+Mono:wght@100..900&display=swap');

:root {
    font-family: 'Geist Mono', monospace;
}

::-webkit-scrollbar {
    background-color: #000a;
    border-left: 0.05rem #444 solid;
}

::-webkit-scrollbar-thumb {
    background-color: #222;
    border-radius: 0.2rem;
    border-left: 0.05rem #444 solid;
}

::-webkit-scrollbar-button {
    height: 0rem;
    width: 0rem;
}

::-webkit-scrollbar-corner {
    background-color: #444;
}

::selection {
    background: white;
    color: black;
}

html {
    & title::first-line {
        font-weight: 600 !important;
    }
    &[lang]::before {
        content: '<html lang="' attr(lang) '">';
        margin-left: 0.2em;
        background: linear-gradient(
                to right,
                #aabbff 35%,
                #aaffbb 35% 62%,
                white 62% 70%,
                orange 70% 95%,
                #aabbff 95%
            )
            text;
    }
    &::after {
        content: '</html>';
    }
    & > :first-child {
        animation: head 5s ease forwards;
        display: block;
        margin-top: 0;
        margin-bottom: 0;
        &::before {
            content: '<head>';
        }
        &::after {
            content: '</head>';
        }
        & > * {
            animation: shift 5s ease forwards;
        }
        & > title:only-of-type {
            display: block;
            animation: title, shift 5s ease forwards;
            color: white;
            &::before {
                content: '<title>';
            }
            &::after {
                content: '</title>';
            }
        }
        & > meta:empty {
            display: block;
            &[charset]::before {
                content: '<meta charset="' attr(charset) '" />';
                background: linear-gradient(
                        to right,
                        #aabbff 25%,
                        #aaffbb 25% 54.5%,
                        white 54.5% 59%,
                        orange 59% 88%,
                        #aabbff 88%
                    )
                    text;
            }
            &[name][content] {
                &::before {
                    content: '<meta name="' attr(name) '" content="'
                        attr(content) '" />';
                }
            }

            &:nth-of-type(2):before {
                background: linear-gradient(
                        to right,
                        #aabbff 8%,
                        #aaffbb 8% 13.8%,
                        white 13.8% 15.5%,
                        orange 15.5% 29%,
                        #aabbff 29% 30%,
                        #aaffbb 30% 40.2%,
                        white 40.2% 41.5%,
                        orange 41.5% 96%,
                        #aabbff 96%
                    )
                    text;
            }
            &:nth-of-type(3)::before {
                background: linear-gradient(
                        to right,
                        #aabbff 13%,
                        #aaffbb 13% 24%,
                        white 24% 25.9%,
                        orange 25.9% 45%,
                        #aabbff 45% 48%,
                        #aaffbb 48% 64.5%,
                        white 64.5% 66.5%,
                        orange 66.5% 94%,
                        #aabbff 94%
                    )
                    text;
            }
            &:nth-last-of-type(2)::before {
                background: linear-gradient(
                        to right,
                        #aabbff 5%,
                        #aaffbb 5% 8.6%,
                        white 8.6% 9.5%,
                        orange 9.5% 21%,
                        #aaffbb 21% 27.5%,
                        white 27.5% 28.6%,
                        orange 28.6% 98%,
                        #aabbff 98%
                    )
                    text;
            }
            &:last-of-type::before {
                background: linear-gradient(
                        to right,
                        #aabbff 13%,
                        #aaffbb 13% 28%,
                        white 28% 30.2%,
                        orange 30.2% 52%,
                        #aabbff 52% 54%,
                        #aaffbb 54% 74.7%,
                        white 74.7% 77.5%,
                        orange 77.5% 94%,
                        #aabbff 94%
                    )
                    text;
            }
        }
        & > link {
            display: block;
            &[rel][media][href]::before {
                /** ideally we could use `attr(href)` here, 
                but it being inconsistent messes with syntax highlighting */
                content: '<link rel="' attr(rel) '" media="' attr(media)
                    '" href="' 'style.css' '" />';
                background: linear-gradient(
                        to right,
                        #aabbff 10%,
                        #aaffbb 10% 16%,
                        white 16% 17.3%,
                        orange 17.3% 38.5%,
                        #aaffbb 38.5% 49.4%,
                        white 49.4% 50.7%,
                        orange 50.7% 64.5%,
                        #aabbff 64.5% 66.5%,
                        #aaffbb 66.5% 73.9%,
                        white 73.9% 75.3%,
                        orange 75.3% 95%,
                        #aabbff 95%
                    )
                    text;
            }
            &[rel][type][title][href]::before {
                content: '<link rel="' attr(rel) '" type="' attr(type)
                    '" title="' attr(title) '" href="' attr(href) '" />';
                background: linear-gradient(
                        to right,
                        #aabbff 4.5%,
                        #aaffbb 4.5% 7.9%,
                        white 7.9% 8.85%,
                        orange 8.85% 19%,
                        #aaffbb 19% 23.3%,
                        white 23.3% 24.3%,
                        orange 24.3% 43%,
                        #aaffbb 43% 48.2%,
                        white 48.2% 49.2%,
                        orange 49.2% 53.5%,
                        #aabbff 53.5% 54%,
                        #aaffbb 54% 58%,
                        white 58% 59%,
                        orange 59% 98%,
                        #aabbff 98%
                    )
                    text;
            }
        }
    }
    & > :last-child {
        background: black;
        color: white;
        &:not([id])::before {
            content: '<body>';
        }
        /** selector originally from https://stackoverflow.com/a/53469166 */
        &
            *:not(
                :is(
                        a,
                        b,
                        abbr,
                        legend,
                        address,
                        link,
                        mark,
                        cite,
                        del,
                        q,
                        small,
                        dfn,
                        command,
                        source,
                        datalist,
                        span,
                        em,
                        strong,
                        sub,
                        i,
                        sup,
                        tbody,
                        td,

                    )
            ) {
            animation: shift 1.5s ease forwards;
        }
        &[id]::before {
            content: '<body id="' attr(id) '">' !important;
            background: linear-gradient(
                    to right,
                    #aabbff 8% 20.5%,
                    #aaffbb 20.5% 30.6%,
                    white 30.6% 35%,
                    orange 35% 95.5%,
                    #aabbff 95.5%
                )
                text;
        }
        &::after {
            content: '</body>';
        }
        & p {
            &:not([role])::before {
                content: '<p>';
            }
            &[role]::before {
                content: '<p role="' attr(role) '">' !important;
            }
            &::after {
                content: '</p>';
            }
        }
        & h4 {
            &::before {
                content: '<h4>';
            }
            &::after {
                content: '</h4>';
            }
        }
        & h3 {
            &[class]::before {
                content: '<h3 class="' attr(class) '">' !important;
            }
            &:not([class])::before {
                content: '<h3>';
            }
            &::after {
                content: '</h3>';
            }
        }
        & div {
            body > & {
                &:first-of-type:before {
                    background: linear-gradient(
                            to right,
                            #aabbff 15%,
                            #aaffbb 15% 39%,
                            white 39% 42.5%,
                            orange 42.5% 96%,
                            #aabbff 96%
                        )
                        text;
                }
                &[role='presentation']::before {
                    background: linear-gradient(
                            to right,
                            #aabbff 10%,
                            #aaffbb 10% 25%,
                            white 25% 27.2%,
                            orange 27.2% 49%,
                            #aabbff 49% 50%,
                            #aaffbb 50% 60.3%,
                            white 60.3% 62.2%,
                            orange 62.2% 97.5%,
                            #aabbff 97.5%
                        )
                        text;
                }
            }
            &.zen-resources {
                &::before {
                    background: linear-gradient(
                            to right,
                            #aabbff 15%,
                            #aaffbb 15% 37%,
                            white 37% 41%,
                            orange 41% 96%,
                            #aabbff 96%
                        )
                        text;
                }
                & h3.resources::before {
                    background: linear-gradient(
                            to right,
                            #aabbff 15%,
                            #aaffbb 15% 41.5%,
                            white 41.5% 44.8%,
                            orange 44.8% 96%,
                            #aabbff 96%
                        )
                        text;
                }
            }
            &#zen-summary {
                &::before {
                    background: linear-gradient(
                            to right,
                            #aabbff 9%,
                            #aaffbb 9% 19%,
                            white 19% 21%,
                            orange 21% 38%,
                            #aabbff 38% 39%,
                            #aaffbb 39% 43.3%,
                            white 43.3% 45%,
                            orange 45% 70%,
                            #aabbff 70% 71.9%,
                            #aaffbb 71.9% 79.1%,
                            white 79.1% 81.5%,
                            orange 81.5% 98%,
                            #aabbff 98%
                        )
                        text;
                }
            }
            &#zen-preamble::before {
                background: linear-gradient(
                        to right,
                        #aabbff 9%,
                        #aaffbb 9% 18%,
                        white 18% 20%,
                        orange 20% 38%,
                        #aabbff 38% 39%,
                        #aaffbb 39% 43.3%,
                        white 43.3% 45.2%,
                        orange 45.2% 71%,
                        #aabbff 71% 71.5%,
                        #aaffbb 71.5% 80.3%,
                        white 80.3% 81.5%,
                        orange 81.5% 98%,
                        #aabbff 98%
                    )
                    text;
            }
            &.main.supporting {
                &::before {
                    background: linear-gradient(
                            to right,
                            #aabbff 8%,
                            #aaffbb 8% 16.5%,
                            white 16.5% 17.8%,
                            orange 17.8% 46%,
                            #aabbff 46% 47%,
                            #aaffbb 47% 51%,
                            white 51% 52.5%,
                            orange 52.5% 79%,
                            #aabbff 79% 80.5%,
                            #aaffbb 80.5% 87%,
                            white 87% 88.5%,
                            orange 88.5% 98%,
                            #aabbff 98%
                        )
                        text;
                }
                & > .explanation {
                    &::before {
                        background: linear-gradient(
                                to right,
                                #aabbff 8%,
                                #aaffbb 8% 16.5%,
                                white 16.5% 17.8%,
                                orange 17.8% 39%,
                                #aabbff 39% 41%,
                                #aaffbb 41% 44%,
                                white 44% 46%,
                                orange 46% 74%,
                                #aabbff 74% 75%,
                                #aaffbb 75% 82%,
                                white 82% 84%,
                                orange 84% 98%,
                                #aabbff 98%
                            )
                            text;
                    }
                    & ~ .participation::before {
                        background: linear-gradient(
                                to right,
                                #aabbff 8%,
                                #aaffbb 8% 15.2%,
                                white 15.2% 17.2%,
                                orange 17.2% 40%,
                                #aabbff 40% 41%,
                                #aaffbb 41% 44.5%,
                                white 44.5% 46%,
                                orange 46% 75%,
                                #aabbff 75% 76%,
                                #aaffbb 76% 83%,
                                white 83% 84.5%,
                                orange 84.5% 98%,
                                #aabbff 98%
                            )
                            text;
                    }
                }
            }
            &:not([class][id][role])::before {
                content: '<div>';
            }
            &[class][id]:not([role])::before {
                content: '<div class="' attr(class) '" id="' attr(id) '">' !important;
            }
            &[class]:not([role][id])::before {
                content: '<div class="' attr(class) '">' !important;
            }
            &[class][role]:not([id])::before {
                content: '<div class="' attr(class) '" role="' attr(role) '">' !important;
            }
            &[class][id][role]::before {
                content: '<div class="' attr(class) '" id="' attr(id) '" role="'
                    attr(role) '">' !important;
            }
            &::after {
                content: '</div>';
            }
        }
        & ul {
            &::before {
                content: '<ul>';
            }
            &::after {
                content: '</ul>';
            }
        }
        & li {
            list-style-type: none;
            &[class]::before {
                content: '<li class="' attr(class) '">' !important;
            }
            &:not([class])::before {
                content: '<li>';
            }
            &::after {
                content: '</li>';
            }
        }
        & section {
            &::before {
                content: '<section>';
            }
            &::after {
                content: '</section>';
            }
        }
        & header {
            &[role]::before {
                content: '<header role="' attr(role) '">' !important;
                background: linear-gradient(
                        to right,
                        #aabbff 35%,
                        #aaffbb 35% 55%,
                        white 55% 60%,
                        orange 60% 95%,
                        #aabbff 95%
                    )
                    text;
            }
            &:not([role])::before {
                content: '<header>';
            }
            &::after {
                content: '</header>';
            }
        }
        & h1 {
            &::before {
                content: '<h1>';
            }
            &::after {
                content: '</h1>';
            }
        }
        & h2 {
            &::before {
                content: '<h2>';
            }
            &::after {
                content: '</h2>';
            }
        }
        & abbr {
            &[title^='Cascading'][title$='Sheets']::before {
                background: linear-gradient(
                        to right,
                        #aabbff 15%,
                        #aaffbb 15% 30%,
                        white 30% 32.1%,
                        orange 32.1% 97.5%,
                        #aabbff 97.5%
                    )
                    text;
            }
            &[title^='Cascading'][title*='levels']::before {
                background: linear-gradient(
                        to right,
                        #aabbff 10%,
                        #aaffbb 10% 21%,
                        white 21% 22.5%,
                        orange 22.5% 98%,
                        #aabbff 98%
                    )
                    text;
            }
            &[title~='HyperText']::before {
                background: linear-gradient(
                        to right,
                        #aabbff 15%,
                        #aaffbb 15% 27.5%,
                        white 27.5% 30%,
                        orange 30% 97.5%,
                        #aabbff 97.5%
                    )
                    text;
            }
            &[title='Document Object Model']::before {
                background: linear-gradient(
                        to right,
                        #aabbff 15%,
                        #aaffbb 15% 30.5%,
                        white 30.5% 32.9%,
                        orange 32.9% 97.5%,
                        #aabbff 97.5%
                    )
                    text;
            }
            &[title^='Web']::before {
                background: linear-gradient(
                        to right,
                        #aabbff 15%,
                        #aaffbb 15% 30.5%,
                        white 30.5% 32.9%,
                        orange 32.9% 97.5%,
                        #aabbff 97.5%
                    )
                    text;
            }
            &[title^='World']::before {
                background: linear-gradient(
                        to right,
                        #aabbff 15%,
                        #aaffbb 15% 27.8%,
                        white 27.8% 29.6%,
                        orange 29.6% 97.5%,
                        #aabbff 97.5%
                    )
                    text;
            }
            &[title|='Frequently Asked Questions']::before {
                background: linear-gradient(
                        to right,
                        #aabbff 14%,
                        #aaffbb 14% 27%,
                        white 27% 29%,
                        orange 29% 97.5%,
                        #aabbff 97.5%
                    )
                    text;
            }
            &:not([title])::before {
                content: '<abbr>';
            }
            &[title]::before {
                content: '<abbr title="' attr(title) '">' !important;
            }
            &::after {
                content: '</abbr>';
                margin-right: 0.1rem;
            }
        }
        & a {
            &[href][title][class]::before {
                content: '<a href="' attr(href) '" title="' attr(title)
                    '" class="' attr(class) '">' !important;
            }
            &[href]:not([title][class])::before {
                content: '<a href="' attr(href) '">' !important;
            }
            &[title]:not([href][class])::before {
                content: '<a title="' attr(title) '">' !important;
            }
            &[class][href]:not([title])::before {
                content: '<a href="' attr(href) '" class="' attr(class) '">' !important;
            }
            &[title][href]:not([class])::before {
                content: '<a href="' attr(href) '" title="' attr(title) '">' !important;
            }
            &.design-name::before {
                background: linear-gradient(
                        to right,
                        #aabbff 5%,
                        #aaffbb 5% 19.8%,
                        white 19.8% 21.8%,
                        orange 21.8% 42%,
                        #aabbff 42% 44%,
                        #aaffbb 44% 58%,
                        white 58% 61%,
                        orange 61% 97%,
                        #aabbff 97%
                    )
                    text;
            }
            &[href$='guidelines/']::before {
                background: linear-gradient(
                        to right,
                        #aabbff 4%,
                        #aaffbb 4% 11%,
                        white 11% 12.9%,
                        orange 12.9% 98%,
                        #aabbff 98%
                    )
                    text;
            }
            &[href='/examples/style.css']:before {
                background: linear-gradient(
                        to right,
                        #aabbff 3%,
                        #aaffbb 3% 8.2%,
                        white 8.2% 9.5%,
                        orange 9.5% 33%,
                        #aabbff 33% 34%,
                        #aaffbb 34% 40.3%,
                        white 40.3% 41.6%,
                        orange 41.6% 98.9%,
                        #aabbff 98.9%
                    )
                    text;
            }
            &[href='/examples/index']:before {
                background: linear-gradient(
                        to right,
                        #aabbff 3%,
                        #aaffbb 3% 8.2%,
                        white 8.2% 9.5%,
                        orange 9.5% 30%,
                        #aabbff 30% 31%,
                        #aaffbb 31% 37%,
                        white 37% 38%,
                        orange 38% 98.9%,
                        #aabbff 98.9%
                    )
                    text;
            }
            &:not([href][title][class])::before {
                content: '<a>';
            }
            &::after {
                content: '</a>';
            }
        }
        & nav {
            &:not([role])::before {
                content: '<nav>';
            }
            &[role]::before {
                content: '<nav role="' attr(role) '">' !important;
            }
            &::after {
                content: '</nav>';
            }
        }
        & aside {
            &[role][class]::before {
                content: '<aside class="' attr(class) '" role="' attr(role) '">';
                background: linear-gradient(
                        to right,
                        #aabbff 15%,
                        #aaffbb 15% 27.5%,
                        white 27.5% 29.2%,
                        orange 29.2% 50%,
                        #aabbff 50% 52%,
                        #aaffbb 52% 61.3%,
                        white 61.3% 63.6%,
                        orange 63.6% 98%,
                        #aabbff 98%
                    )
                    text;
            }
            &::after {
                content: '</aside>';
            }
            & nav::before {
                background: linear-gradient(
                        to right,
                        #aabbff 22%,
                        #aaffbb 22% 39.8%,
                        white 39.8% 42.9%,
                        orange 42.9% 95%,
                        #aabbff 95%
                    )
                    text;
            }
        }
        & footer {
            &::before {
                content: '<footer>';
            }
            &::after {
                content: '</footer>';
            }
        }
    }
}

*::before,
*::after {
    animation: color 5s ease forwards;
    font-style: normal;
    font-weight: normal;
    text-decoration: none !important;
    cursor: text;
    font-size: 1rem;
    background: #aabbff;
    background-clip: text;
    color: transparent;
    text-wrap-mode: nowrap;
}

@keyframes color {
    from {
        width: 0px !important;
        font-size: 0rem;
    }
    50% {
        font-size: 1rem;
    }
    to {
    }
}

@keyframes title {
    from {
        color: transparent;
        font-size: 0rem;
    }
    to {
        color: white;
        font-size: 1rem;
    }
}

@keyframes head {
    from {
        font-size: 0rem;
    }
    to {
        font-size: 1rem;
    }
}

* {
    animation: weight 5s ease forwards;
}

@keyframes weight {
    from {
        font-size: 1rem;
        padding: 0%;
        margin-top: 0%;
        margin-bottom: 0%;
        font-weight: normal;
    }
    to {
        font-weight: 600;
    }
}

:link,
:visited,
abbr {
    color: white !important;
    text-decoration-color: transparent;
    transition: text-decoration-color 0.3s ease;
    &:hover {
        text-decoration-color: white;
    }
    &:active {
        text-decoration-color: #5577ff !important;
    }
}

@keyframes shift {
    from {
        margin-left: 0rem;
    }
    to {
        margin-left: 2rem;
    }
}
